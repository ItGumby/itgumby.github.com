
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>IT Gumby</title>
  <meta name="author" content="Brian Street">

  
  <meta name="description" content="CQ5 Developing Components
has a lot of information, but I wanted a handier cheat sheet. Table 1. Objects from &lt;cq:defineobjects/&gt; (as of CQ5.6 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ItGumby.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="IT Gumby" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1 class="msg">
    <a href="/">IT Gumby</a>
    <span class="msg">text-shadow courtesy <a href="http://leaverou.github.io/animatable/#text-shadow">Lea Verou</a></span>
  </h1>
  
    <h2>Flexible solutions for general software engineering</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ItGumby.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/presentations/index.html">Presentations</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/cq-defineObjects-cheatsheet/">CQ5 Resource - &lt;cq:defineObjects/> CheatSheet</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-16T20:14:00-07:00" pubdate data-updated="true">2014-Feb-16</time>
        
         | <a href="/blog/2014/02/cq-defineObjects-cheatsheet/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class="paragraph">
<p><a href="https://dev.day.com/docs/en/cq/current/developing/components.html#%3Ccq:defineObjects%3E">CQ5 Developing Components</a>
has a lot of information, but I wanted a handier cheat sheet.</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 1. Objects from &lt;cq:defineobjects/&gt; (as of CQ5.6)</caption>
<colgroup>
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">JavaDoc</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">my favorite methods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>component</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/index.html?com/day/cq/wcm/api/components/Component.html">Component</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the current AEM component object of the current resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getName() / getPath()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>componentContext</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/index.html?com/day/cq/wcm/api/components/ComponentContext.html">ComponentContext</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the current component context object of the request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getPage() / getResource() / setDecorate(boolean)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>currentDesign</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/com/day/cq/wcm/api/designer/Design.html">Design</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the current design object of the current page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getStaticCssPath() / getStyle(_) / writeCss(Writer, boolean) / writeCssIncludes(_)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>currentPage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/com/day/cq/wcm/api/Page.html">Page</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the current AEM WCM page object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getName() / getTitle() / getNavigationTitle() / getTags() / getContentResource() / getDepth() / getPageManager()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>currentStyle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/com/day/cq/wcm/api/designer/Style.html">Style</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the current style object of the current cell</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>designer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/com/day/cq/wcm/api/designer/Designer.html">Designer</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the designer object used to access design information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getDesign(_) / getStyle(_)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>editContext</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/com/day/cq/wcm/api/components/EditContext.html">EditContext</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the edit context object of the AEM component</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pageManager</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/com/day/cq/wcm/api/PageManager.html">PageManager</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the page manager object for page level operations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getPage(path) / create/ copy/ delete/ move/ order(_) / getRevisions(_)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pageProperties</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/com/day/cq/commons/inherit/InheritanceValueMap.html">InheritanceValueMap</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the page properties object of the current page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getInherited(name,default) / get(name,default) / put(key,val)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>properties</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/org/apache/sling/api/resource/ValueMap.html">ValueMap</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the properties object of the current resource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">get(name,defaultVal) / put(key,val) <a href="http://experiencedelivers.adobe.com/cemblog/en/experiencedelivers/2013/02/valuemap-and-his-friend.html">examples</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resourceDesign</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/com/day/cq/wcm/api/designer/Design.html">Design</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the design object of the resource page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>see currentDesign</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resourcePage</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/com/day/cq/wcm/api/Page.html">Page</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the resource page object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>see currentPage</em></p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>Attributes provided by <code>cq:defineObjects</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>componentContextName</code></p>
</li>
<li>
<p><code>componentName</code></p>
</li>
<li>
<p><code>currentDesignName</code></p>
</li>
<li>
<p><code>currentPageName</code></p>
</li>
<li>
<p><code>currentStyleName</code></p>
</li>
<li>
<p><code>designerName</code></p>
</li>
<li>
<p><code>editContextName</code></p>
</li>
<li>
<p><code>logName</code></p>
</li>
<li>
<p><code>nodeName</code></p>
</li>
<li>
<p><code>pageManagerName</code></p>
</li>
<li>
<p><code>pagePropertiesName</code></p>
</li>
<li>
<p><code>propertiesName</code></p>
</li>
<li>
<p><code>requestName</code></p>
</li>
<li>
<p><code>resourceDesignName</code></p>
</li>
<li>
<p><code>resourceName</code></p>
</li>
<li>
<p><code>resourcePageName</code></p>
</li>
<li>
<p><code>resourceResolverName</code></p>
</li>
<li>
<p><code>slingName</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The &lt;cq:defineObjects&gt; tag also automatically includes &lt;sling:defineObjects/&gt;</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 2. Objects from &lt;sling:defineObjects/&gt; (as of CQ5.6)</caption>
<colgroup>
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;">
<col style="width:25%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">JavaDoc</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">my favorite methods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>currentNode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.day.com/maven/javax.jcr/javadocs/jcr-1.0/javax/jcr/Node.html">Node</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JCR node for current resource (not defined if not)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>discourage in favor of Resource or ValueMap</em> addNode(_) / getUUID()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.slf4j.org/api/org/slf4j/Logger.html">SLF4J.Logger</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an SLF4J Logger for logging to the Sling log system from within scripts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">error / warn / info / debug</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resource</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/org/apache/sling/api/resource/Resource.html">Resource</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the current Resource object to handle (depending on the URL of the request)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getName() / getPath() / getChild(path) / getChildren()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resourceResolver</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/org/apache/sling/api/resource/ResourceResolver.html">ResourceResolver</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current ResourceResolver object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create(args) / commit() / getResource(_) / resolve(_) / queryResources(query, lang)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sling</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/index.html?org/apache/sling/api/scripting/SlingScriptHelper.html">SlingScriptHelper</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">convenience methods for scripts.  GOD Object.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getService(Class) / include(_) / forward(_) / getRequest() / getResponse() / getScript()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>slingRequest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/org/apache/sling/api/SlingHttpServletRequest.html">SlingHttpServletRequest</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends <a href="http://docs.oracle.com/javaee/1.4/api/javax/servlet/http/HttpServletRequest.html">HttpServletRequest</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getResource() / getCookie(name) / getRequestParameterMap() / getRequestParameters(name) / getRequestPathInfo()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>slingResponse</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://dev.day.com/docs/en/cq/current/javadoc/org/apache/sling/api/SlingHttpServletResponse.html">SlingHttpServletResponse</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">extends <a href="http://docs.oracle.com/javaee/1.4/api/javax/servlet/http/HttpServletResponse.html">HttpServletResponse</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">static fields / addCookie(cookie) / getOutputStream() / getWriter()</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>Attributes provided by <code>sling:defineObjects</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>logName</code></p>
</li>
<li>
<p><code>nodeName</code></p>
</li>
<li>
<p><code>requestName</code></p>
</li>
<li>
<p><code>resourceResolverName</code></p>
</li>
<li>
<p><code>responseName</code></p>
</li>
<li>
<p><code>slingName</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I hope this helps others and myself.</p>
</div></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/the-evolution-of-looping/">The Evolution of Looping</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-23T10:40:00-07:00" pubdate data-updated="true">2013-Nov-23</time>
        
         | <a href="/blog/2013/11/the-evolution-of-looping/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class="sect1">
<h2 id="tl-dr">TL;DR</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two primary approaches to programming:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">imperative</dt>
<dd>
<p>the &#8220;classical&#8221; approach where the code describes <em>how</em> to accomplish something</p>
</dd>
<dt class="hdlist1">declarative</dt>
<dd>
<p>the &#8220;functional&#8221; approache where the code describes <em>what</em>  to accomplish</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The evolution of looping remarks on the steps from looping in an imperative style to functional programming
that expresses intent and frees the language/compiler/machine to select potentially better
mechanisms of <em>how</em> to accomplish the task.  A tangible benefit of functional approaches
is code that expreses intent, which makes bugs easier to identify and solve.  It doesn&#8217;t
hurt that the lines of code can often get shorter.</p>
</div>
<div class="paragraph">
<p>My list of looping approaches (with un-official terms):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>while/until</p>
</li>
<li>
<p>for with iterator</p>
</li>
<li>
<p>for each</p>
</li>
<li>
<p>forEach (functional)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples">Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I started with examples written in JavaScript, but &#8220;for each&#8221; and &#8220;forEach&#8221; weren&#8217;t
as clear as examples written in other languages.  So I re-wrote the examples in Groovy,
a language related to Java that requires less boilerplate.</p>
</div>
<div class="listingblock">
<div class="title">while (or &#8220;until&#8221; to test at end of loop)</div>
<div class="content">
<pre class="CodeRay"><code class="groovy language-groovy"><span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">Integer</span>&gt; input = [<span style="color:#00D">1</span>, <span style="color:#00D">2</span>, <span style="color:#00D">3</span>, <span style="color:#00D">4</span>, <span style="color:#00D">5</span>, <span style="color:#00D">6</span>, <span style="color:#00D">7</span>, <span style="color:#00D">8</span>, <span style="color:#00D">9</span>]
<span style="color:#0a8;font-weight:bold">Integer</span> sum = <span style="color:#00D">0</span>     <span style="color:#777">// mutating sum</span>

<span style="color:#080;font-weight:bold">def</span> i = <span style="color:#00D">0</span>               <span style="color:#777">// iterator set to starting position of collection</span>
<span style="color:#080;font-weight:bold">def</span> max = input.size()  <span style="color:#777">// calculate end position once</span>
<span style="color:#080;font-weight:bold">while</span> (i &lt; max) {       <span style="color:#777">// test if continue looping</span>
    <span style="color:#080;font-weight:bold">def</span> val = input[i]; <span style="color:#777">// get value from array</span>
    sum += val;         <span style="color:#777">// change state of the sum</span>
    i++;                <span style="color:#777">// increment iterator</span>
}
println <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">result of while() sum = </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">${</span>sum<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">for loop</div>
<div class="content">
<pre class="CodeRay"><code class="groovy language-groovy"><span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">Integer</span>&gt; input = [<span style="color:#00D">1</span>, <span style="color:#00D">2</span>, <span style="color:#00D">3</span>, <span style="color:#00D">4</span>, <span style="color:#00D">5</span>, <span style="color:#00D">6</span>, <span style="color:#00D">7</span>, <span style="color:#00D">8</span>, <span style="color:#00D">9</span>]
<span style="color:#0a8;font-weight:bold">Integer</span> sum = <span style="color:#00D">0</span>     <span style="color:#777">// mutating sum</span>

<span style="color:#080;font-weight:bold">def</span> max = input.size()          <span style="color:#777">// calculate end position once</span>
<span style="color:#080;font-weight:bold">for</span> (<span style="color:#339;font-weight:bold">int</span> i = <span style="color:#00D">0</span>; i &lt; max; i++) { <span style="color:#777">// declare iterator, test &amp; increment statements</span>
    <span style="color:#080;font-weight:bold">def</span> val = input[i];         <span style="color:#777">// get value from array</span>
    sum += val;                 <span style="color:#777">// change state of the sum</span>
}
println <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">result of for(;;) sum = </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">${</span>sum<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">for each/in</div>
<div class="content">
<pre class="CodeRay"><code class="groovy language-groovy"><span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">Integer</span>&gt; input = [<span style="color:#00D">1</span>, <span style="color:#00D">2</span>, <span style="color:#00D">3</span>, <span style="color:#00D">4</span>, <span style="color:#00D">5</span>, <span style="color:#00D">6</span>, <span style="color:#00D">7</span>, <span style="color:#00D">8</span>, <span style="color:#00D">9</span>]
<span style="color:#0a8;font-weight:bold">Integer</span> sum = <span style="color:#00D">0</span>     <span style="color:#777">// mutating sum</span>

<span style="color:#080;font-weight:bold">for</span> (<span style="color:#0a8;font-weight:bold">Integer</span> val : input) {
    sum += val
}
println <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">for(each) sum =&gt; </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">${</span>sum<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">each (or &#8220;forEach&#8221; in Java8)</div>
<div class="content">
<pre class="CodeRay"><code class="groovy language-groovy"><span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">Integer</span>&gt; input = [<span style="color:#00D">1</span>, <span style="color:#00D">2</span>, <span style="color:#00D">3</span>, <span style="color:#00D">4</span>, <span style="color:#00D">5</span>, <span style="color:#00D">6</span>, <span style="color:#00D">7</span>, <span style="color:#00D">8</span>, <span style="color:#00D">9</span>]
<span style="color:#0a8;font-weight:bold">Integer</span> sum = <span style="color:#00D">0</span>     <span style="color:#777">// mutating sum</span>

input.each { <span style="color:#0a8;font-weight:bold">Integer</span> val -&gt;  <span style="color:#777">// explicitly declare type &amp; name; groovy defaults to &quot;it&quot;</span>
    sum += val
}
println <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">[].each() sum =&gt; </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">${</span>sum<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span></code></pre>
</div>
</div>
<div class="sect2">
<h3 id="trends">Trends</h3>
<div class="paragraph">
<p>The iterators started externally, then gradually moved internal to the loop, and finally disappeared.</p>
</div>
<div class="paragraph">
<p>The lines of code also dropped, although some of the intermediate steps had some busy lines.
For instance, <code>for(;;)</code> has the same work as the <code>while()</code> loop by essentially combining lines.</p>
</div>
<div class="paragraph">
<p>The general trend is from imperative (how) to declarative (what) code.
Less declarations for how to accomplish a task, the less opportunities for defects to be unintentionally introduced.
Also, the environment has more opportunities to optimize the solution, such as parallel processing.</p>
</div>
<div class="listingblock">
<div class="title">An example of a functional approach to summing (although most will provide a <code>sum()</code> function) can be:</div>
<div class="content">
<pre class="CodeRay"><code class="groovy language-groovy"><span style="color:#0a8;font-weight:bold">List</span>&lt;<span style="color:#0a8;font-weight:bold">Integer</span>&gt; input = [<span style="color:#00D">1</span>, <span style="color:#00D">2</span>, <span style="color:#00D">3</span>, <span style="color:#00D">4</span>, <span style="color:#00D">5</span>, <span style="color:#00D">6</span>, <span style="color:#00D">7</span>, <span style="color:#00D">8</span>, <span style="color:#00D">9</span>]
<span style="color:#080;font-weight:bold">def</span> inputSum = input.inject(<span style="color:#00D">0</span>, { acc, <span style="color:#950">it</span> -&gt; acc + <span style="color:#950">it</span> })     <span style="color:#777">// most call it &quot;reduce&quot;</span>
println inputSum</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="summary">Summary</h3>
<div class="ulist">
<ul>
<li>
<p>Favor declarative over imperative programming.</p>
</li>
<li>
<p>Use higher-level constructs in your language</p>
</li>
<li>
<p>Favor results over steps.  This leads to functional programming.</p>
</li>
<li>
<p>Prefer immutability over states &amp; transactions</p>
</li>
<li>
<p><code>final</code> keyword in Java, Groovy to prevent changing state</p>
</li>
</ul>
</div>
</div>
</div>
</div></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/octopress-first-steps/">Octopress First Steps</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-02T16:37:00-06:00" pubdate data-updated="true">2013-Jun-02</time>
        
         | <a href="/blog/2013/06/octopress-first-steps/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Installation Steps</h1>

<h2>Prepare</h2>

<ol>
<li>Ruby Versions <a href="http://octopress.org/docs/setup/rvm/">Ruby with RVM</a> or RBENV</li>
<li>Start GHP <a href="http://octopress.org/docs/setup/">octopress setup</a></li>
<li>Deploy to GHP <a href="http://octopress.org/docs/deploying/github/">Deploy to GitHub Pages</a></li>
<li>Configure <a href="http://octopress.org/docs/configuring/">Configure Octopress</a>

<ol>
<li>future: visit plugins: <a href="http://jekyllrb.com/docs/plugins/">Existing Plugins</a></li>
<li>future: create asciidoc plugin: <a href="http://jekyllrb.com/docs/contributing/">Contribute Plugin</a></li>
<li>revisit: 3rd Party Settings: [G+, Disqus, GA]</li>
<li>dickens of a time pushing local source branch

<ul>
<li>change <code>git config --global push.default current</code></li>
<li>change <code>git branch --set-upstream source origin/source</code></li>
</ul>
</li>
</ol>
</li>
</ol>


<h2>New Post</h2>

<ul>
<li>Blogging <a href="http://octopress.org/docs/blogging/">Octopress Blogging Basics</a>

<ul>
<li>New Post: <code>rake new_post["post name"]</code>

<ul>
<li>&ldquo;Rakefile&rdquo; dictates the created file</li>
<li>default new file: <code>source/_posts/YYYY-MM-DD-post-name.markdown</code></li>
<li>optional <a href="http://jekyllrb.com/docs/frontmatter/">yaml front matter</a>

<ul>
<li>author: Your Name</li>
<li>published: false <em># prevents article posting</em></li>
<li>categories: [CSS3, Sass, Media Queries] <em># single, list, or even dash per line</em></li>
</ul>
</li>
</ul>
</li>
<li>New Page: <code>rake new_page[about]</code>

<ul>
<li>=> ${SITE}/about.html</li>
<li>if <code>rake new_page[about/index.markdown]</code> => ${SITE}/about/</li>
</ul>
</li>
<li>Page Content

<ul>
<li><a href="https://github.com/Shopify/liquid/wiki/Liquid-for-Designers">Liquid Template features</a></li>
<li><a href="http://jekyllrb.com/docs/variables/">Page Variables</a></li>
<li><a href="http://octopress.org/docs/blogging/code/">embedded code</a></li>
<li>import into page <a href="http://octopress.org/docs/plugins/render-partial/">render partial</a></li>
</ul>
</li>
</ul>
</li>
</ul>


<h3>Preview, Publish</h3>

<ul>
<li>Generate, Preview

<ol>
<li><code>rake generate</code> <em># Generates posts and pages into the public directory</em></li>
<li><code>rake watch</code>    <em># Watches source/ and sass/ for changes and regenerates</em></li>
<li><code>rake preview</code>  # Watches, and mounts a webserver at <a href="http://localhost:4000">http://localhost:4000</a></li>
</ol>
</li>
<li>Changes to branch <code>source</code>

<ol>
<li>git checkout source</li>
<li><code>rake new_post["My Post"]</code> <em># may need to do in correct shell (for me, bash instead of zsh)</em></li>
<li>edit post <code>./source/_posts/YYYY-MM-DD-my-post.markdown</code></li>
<li>generate HTML (repeat <code>rake generate; rake watch; rake preview</code> until satisfied)</li>
<li>add source changes <code>git add .; git commit -m "My Post"</code></li>
<li>push source changes <code>git push origin source</code></li>
<li>push generated HTML <code>rake deploy</code></li>
</ol>
</li>
</ul>


<h2>Future Enhancements</h2>

<ul>
<li>themes: <a href="https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes">Octopress Themes</a> or roll your own</li>
<li><a href="http://erikschwartz.net/jekyll-for-the-masses/">Prose.io Makes Jekyll Feel Like Wordpress</a></li>
<li>comments <a href="http://disqus.com/">Disqus</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/ghp-with-octopress/">Why Octopress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-02T15:59:00-06:00" pubdate data-updated="true">2013-Jun-02</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Static Site Generators FTW</h2>

<p>A long, long time ago, on web far, far away, the original developers of the web built static pages by hand.  Soon, tooling caught up and templates could assemble pages pages together from &ldquo;content&rdquo; stored in other sources (usually databases).  Eventually, personalization meant every  page would be built per request.  Since servers had to generate each page instead of returning pre-built files, their scalability was limited.</p>

<p>Two concepts came to the rescue: REST and Dynamic HTML (which evolved into AJAX).  <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm">Representaional State Transfer or REST</a> posited that <em>resources</em> could be more cacheable.  And DHTML/AJAX made it common to Create, Replace, Update or Delete <em>portions</em> of a page.  By applying these concepts intelligently, most, if not all, of the pages could be stored and reused.  This <em>caching</em> could be done at different layers, from the data source, to inside the app servers to even the web server.</p>

<p>With flexible caching strategies, the generation from templates can be moved around and execute less frequently.  In the case of blog content, generation only needs to happen at original post and repeated for any edits.  (Comments can be AJAX&#8217;ed away or moved to external services, such as <a href="http://disqus.com/">Disqus</a>.)  Flexible generation also allowed questioning the <em>data sources</em>.  Databases had long been the most common data source.  But they frequently have specialized administrators.  Also, databases excel at structured content while web content is &hellip; well, frequently unstructured.</p>

<p>Part of <em><a href="http://alistapart.com/article/thedisciplineofcontentstrategy">Content Strategy</a></em> is letting the authors focus on the <em>content</em>.  The content itself may have some structure, but time spent formatting or determining how to get into the data source is wasted effort.  <a href="http://en.wikipedia.org/wiki/Markdown">MarkDown</a> and <a href="http://asciidoctor.org/docs/asciidoc-writers-guide/">AsciiDoc</a> have stepped in as generic converters of plain text into HTML.  Both focus on the content with minimal syntax or formatting to distract the author from his or her message.  <em>Static Site Generators</em> use some markup flavor with a template engine in a large variety of languages to build static web pages.  One of the most popular and mature solutions is <a href="http://jekyllrb.com/">Jekyll</a>, a Ruby solution that transforms &ldquo;your plain text into static websites and blogs.&rdquo;  Part of its popularity, especially among developers, is jekyll support in <a href="http://pages.github.com/">GitHub Pages</a>.</p>

<h2>Pros and Cons of Static Site Generators</h2>

<p>I built this list by borrowing heavily from <a href="http://www.mickgardner.com/2012/12/an-introduction-to-static-site.html">An Intro to Static Site Generators</a></p>

<ul>
<li>+ Security.  No database or live templates to compromise with static content.</li>
<li>+ Performance.  Just serving files, so web servers have less work to do.</li>
<li>+ Content separated from servers.  This gives flexibility in hosting (and migration).</li>
<li>+ Lowest Common Denominator.  Any host can serve HTML (no worries about supporting your language or tools).</li>
<li>+ Scalability.  If you have more load, add more web servers and rsync (or other copy) the content over.</li>
<li>- Updates require generator computers (hard to do from your phone).  Some other tools exist to relieve this.</li>
<li>- Dynamic content requires external services or tools.</li>
</ul>


<h2>Extending Jekyll</h2>

<p><a href="http://octopress.org/">Octopress</a> is built on top of Jekyll, so it carries forth all the strengths of it.  Octopress starts with smart defaults, such as HTML5 support and &ldquo;<a href="http://www.lukew.com/resources/mobile_first.asp">Mobile First</a>&rdquo; responsive design.  Its plugin architecture to make it easy to turn features on and off, such as:</p>

<ul>
<li>Social Integration of Twitter, Google+, Disqus comments</li>
<li>HTML5 philosophy, including video tags</li>
<li>display source code: includes, gist, partial renders</li>
<li>Templates that support pre-processors such as SASS, Haml</li>
<li>Themes: <a href="https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes">3rd Party</a> or build your own</li>
<li>Category generation</li>
<li>Analytics</li>
</ul>


<h2>Related Posts</h2>

<ul>
<li><a href="http://thepaulrayner.com/blog/2013/02/04/blogging-with-octopress-and-github-pages/">Paul Rayner &ldquo;Blogging With Octopress and Github Pages&rdquo;</a></li>
<li><a href="http://www.neilsmithline.com/2013/03/octopress-is-pretty-great.html">Neil Smith &ldquo;Octopress is Pretty Great&rdquo;</a></li>
<li><a href="http://joelmccracken.github.io/entries/octopress-is-pretty-sweet/">Use Octopress instead of Jekyll</a></li>
<li><a href="http://joelmccracken.github.io/entries/octopress-is-pretty-sweet/">Use Jekyll? You Really Should Be Using Octopress</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/command-line-basics/">Command Line Basics</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-11T21:48:00-07:00" pubdate data-updated="true">2012-Nov-11</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of my favorite features of computers is making them do the work for me.  I tend to think of this as automation.  Command line and shell scripts are a great way to automate tasks.  While Apple has &ldquo;Automator&rdquo; and Windows have DOS Batch and PowerShell, Unix shell is my favorite due to its power, availability, and even its philosophy.</p>

<p>Unix shell commands are famous for a philosophy of &ldquo;do one thing, do it well&rdquo;, and permit chaining of commands to accomplish more complex tasks.  Breaking complex tasks into discrete steps is a good practice for programming, also.</p>

<p>Before tackling full-blown scripts, it is easier to start by &ldquo;playing&rdquo; with the individual commands.  Having a good terminal program can greatly aid this.  Terminals are programs that provide access to the computer&rsquo;s shell.  &ldquo;Console&rdquo; is the name for a special connection to the first shell of a user&rsquo;s login, but is  otherwise like other shell sessions.</p>

<p>A good terminal application will provide buffers for scrolling through command &amp; output history, make it easy to copy &amp; paste text.  For example, the DOS Command Prompt is pretty painful for copy/paste (menu &ldquo;Edit&rdquo;, then copy or paste) while in some programs, a double-click can select entire path &amp; filenames while a triple-click can select the entire line.  Macs ship with &ldquo;Terminal.app&rdquo;, but I prefer to use <a href="http://www.iterm2.com/#/section/home">iTerm2</a>.  When working on Windows machines, I prefer to install <a href="http://sourceforge.net/projects/console/files/">Console2</a>.  You can try out alternatives and find your favorite.</p>

<p>Unix shells are actually an entire set of applications that interpret commands and built-ins (basically look like commands, but are &ldquo;built in&rdquo; to the shell.  There are technically many different shells that have different rules for variables, types, globs &ndash; but that is outside the scope of this post.  The shell will &ldquo;prompt&rdquo; the user for a command.  The default prompt is &ldquo;$&rdquo;, while a prompt of &ldquo;>>&rdquo; indicates the shell expects more text before it can process the command(s).  However, both are configurable.</p>

<p>Filenames can be absolute (the entire path from that computers&#8217; perspective) or relative to the current directory.  In order to enhance security, most Unix systems will set the path to NOT include the current directory so you don&rsquo;t accidentally run a copy of a program that happens to exist in the current directory instead of its &ldquo;normal&rdquo; location.  In order to tell the shell you really mean to run the copy in your current directory, prepend &lsquo;./&rsquo; to the program/script name (meaning the path is HERE).</p>

<p>If you want to pass in a filename to the command, you can pass in the exact filename, a filename pattern (such as *.pdf for any PDF in the current directory) , or even a &ldquo;glob&rdquo; (fancier pattern, such as <em>*/</em>.pdf for any PDF in the current or any child sub-directory at any depth below).  Technically, all 3 are globs. And the fancier glob examples depend on your shell and configuration.</p>

<p>Without further ado, here is a manageable list of unix shell commands that all users should be familiar with.  At first, they may look cryptic, but that is only because they are abbreviations to make it faster to type them.  Once you start dabbling with their options, they may not be so short anymore&hellip;</p>

<h2>Listing Files</h2>

<table>
<thead>
<tr>
<th> Command </th>
<th> Example </th>
<th> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ls </td>
<td> ls –lrtF [dir or file(s)] </td>
<td> LiSt.  List file(s) in a directory, with flags for order and extra information</td>
</tr>
<tr>
<td>cd </td>
<td> cd <em>dirName</em> </td>
<td> ChangeDirectory.  “..” is up 1 dir, “-“ is previous dir. <strong>NOTE:</strong> Unix uses “/” instead of Window’s “\”</td>
</tr>
<tr>
<td>mkdir </td>
<td> mkdir <em>newDir</em> </td>
<td> MaKeDIRectory.</td>
</tr>
<tr>
<td>cp </td>
<td> cp <em>currentFile</em> <em>newFile</em> </td>
<td> CoPy.  If destination exists, it will get over-written.</td>
</tr>
<tr>
<td>mv </td>
<td> mv <em>currentFile</em> <em>newFile</em> </td>
<td> MoVe.  (also works for renaming files).  If destination exists, it gets over-written.</td>
</tr>
<tr>
<td>rm </td>
<td> rm <em>fileToDelete</em> </td>
<td> ReMove.  Deletes a file or set of files.</td>
</tr>
</tbody>
</table>


<h2>Viewing text file contents</h2>

<table>
<thead>
<tr>
<th> Command </th>
<th> Example </th>
<th> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cat </td>
<td> cat <em>file1</em> <em>[file2]</em> </td>
<td> concatenate.  Can dump multiple files to the screen (or get re-directed to another file).</td>
</tr>
<tr>
<td>more </td>
<td> more <em>longFile</em> </td>
<td> Displays file 1 page at a time.  Page is dynamic to PuTTY screen.  Advance using <space>, quit by typing “q”.  Also see &ldquo;less&rdquo; (&ldquo;less is more&rdquo;)</td>
</tr>
<tr>
<td>view </td>
<td> view <em>textFile</em> </td>
<td> Read only vi (text editor).  Has advanced searching, scrolling, etc.</td>
</tr>
<tr>
<td>grep </td>
<td> grep <em>phrase fileToSearch</em> </td>
<td> Search inside files.  Can be literal strings, or advanced regexp (regular expressions – a huge topic by itself).</td>
</tr>
<tr>
<td>head </td>
<td> head [-10] <em>file1</em> </td>
<td> Display first several lines of a file</td>
</tr>
<tr>
<td>tail </td>
<td> tail [-10] <em>file1</em> </td>
<td> Display last several lines of a file</td>
</tr>
</tbody>
</table>


<h2>Documentation</h2>

<table>
<thead>
<tr>
<th> Command </th>
<th> Example </th>
<th> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>man </td>
<td> man <em>command</em> </td>
<td> MANual.  If you know the command, you can display man pages for it.  If you don&rsquo;t know the command name, use &ldquo;-k&rdquo; to search for related keywords to find the command</td>
</tr>
<tr>
<td><em>cmd</em> &mdash;help </td>
<td> man -h </td>
<td> <strong>By convention</strong>, commands with the option &ldquo;-h&rdquo; or &ldquo;&mdash;help&rdquo; should provide their own documentation. This applies to scripts you develop, too.</td>
</tr>
</tbody>
</table>


<h2>Execution/Job Control</h2>

<table>
<thead>
<tr>
<th> Command </th>
<th> Example </th>
<th> Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ps </td>
<td> ps <em>-efx</em> </td>
<td> ProccesseS.  List running processes and their IDs.  Each platform often has different flags/options.</td>
</tr>
<tr>
<td>nohup </td>
<td> nohup <em>./localScript.sh</em> </td>
<td> Prevent interruption.  Prepend to other commands so they can’t be killed or accidentally stopped (ie lost terminal connection)</td>
</tr>
<tr>
<td>kill </td>
<td> kill -9 <em>processID</em> </td>
<td> Kill a running process by ID (often called &ldquo;pid&rdquo;)</td>
</tr>
<tr>
<td><em>cmd</em> &amp; </td>
<td> <em>./runLoad.sh</em> &amp; </td>
<td> Background a command or script.  Returns you to the prompt for other commands and lets first command run in “background”</td>
</tr>
</tbody>
</table>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/cq-defineObjects-cheatsheet/">CQ5 Resource - &lt;cq:defineObjects/> CheatSheet</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/the-evolution-of-looping/">The Evolution of Looping</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/octopress-first-steps/">Octopress First Steps</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/ghp-with-octopress/">Why Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/11/command-line-basics/">Command Line Basics</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/ItGumby">@ItGumby</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ItGumby',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Brian Street -
  <span class="credit">An <a href="http://octopress.org">Octopress</a> blog.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'itgumby';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
